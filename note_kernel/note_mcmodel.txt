The mcmodel flag in GCC tells the compiler how to generate code with respect to memory addressing.
The compiler makes decisions on how to generate instructions that will be used by the CPU to access memory.

This affects:
1. Instruction Generation: The types of information used to access memory addresses.
2. Displacement Sizes: the size of the offsets (displacements) that can be used in memory addressing (added to a base address held by a register).

For a small model, such as -mcmodel=small, 32-bit signed displacements are used. Being signed means that the first bit is used to represent the signs (+ve or -ve),
and the other bits are treated as offset. In this model, the 31 bits are used as offset, which the maximum range is 2^31 (2 GiB).

If you are using a small model but if your code and data are outside the maximum range (2 GiB), then those outside the range cannot be accessed by the CPU
because the instructions and displacements generated by the compiler is for accessing these code and data (your program) within the 2 GiB range.

In the case where your program exceeds this range, you can use a larger model like -mcmodel=large.
The downside is that accessing memory will be slower since more instructions are needed.

For RISC-V, there are 3 mcmodel options.
1. -mcmodel=medlow: The program and its statically defined symbols must lie within a single 2 GiB address range starting from 0 (base / first virtual address).
2. -mcmodel=medany: The program and its statically defined symbols lie within any single 2 GiB address range. This means that the 2 GiB range can start at any address
in the 64-bit address space.
3. -mcmodel=large: no restrictions on size or placement of symbols.

The xv6 program is not larger than 2 GiB, so either the medlow or medany mcmodel can be used.
However, xv6 uses a direct mapping for the kernel's virtual address to physical address.
According to QEMU's Generic Virtual Platform (virt) source code, 0x8000 0000 is the base physical address of the DRAM.
So, xv6 sets the starting virtual address for the kernel code and data as 0x8000 0000 in the linker script, by setting the location counter to 0x8000 0000.

0x8000 000 is represented in binary as 1000 0000 0000 0000 0000 0000 0000 0000.
The maximum address that can be reached in -mcmodel=medlow is 2^31 - 1, which is 0111 1111 1111 1111 1111 1111 1111 1111, or 0x7FFF FFFF.
Therefore, the -mcmodel=medany must be used to run xv6.
